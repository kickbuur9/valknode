{% extends "base.html" %}

{% load wagtailcore_tags %}

{% block body_class %}template-blogindexpage{% endblock %}

{% block content %}
<ul>
    {% for post in blogpages %}
        {% with post.specific as blog %}
        <li class="mb-6 p-4 border-b border-gray-300 dark:border-gray-700">
            <h2 class="text-xl font-bold mb-1">
                <a href="{{ blog.url }}" class="text-indigo-600 dark:text-indigo-400 hover:underline">
                    {{ blog.title }}
                </a>
            </h2>
            <p class="text-gray-500 dark:text-gray-400 text-sm mb-2">Post date: {{ blog.date }}</p>
            <p class="text-gray-700 dark:text-gray-300">
                {{ blog.body|striptags|truncatechars:200 }}
            </p>
        </li>
        {% endwith %}
    {% empty %}
        <li>No posts found.</li>
    {% endfor %}
</ul>

<p>title: </p>{{ page.title|richtext }}
<p>intro: </p>{{ page.intro|richtext }}
<p>post date: </p>{{ post.date }}
<p>post body: </p>{{ post.body|striptags|truncatechars:200 }}

{% endblock %}
